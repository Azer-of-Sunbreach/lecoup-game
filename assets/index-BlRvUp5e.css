@import"https://fonts.googleapis.com/css2?family=Goudy+Bookletter+1911&display=swap";:root{--menu-bg: #1a1410;--menu-bg-warm: #251a14;--menu-title: #8b0000;--menu-title-shadow: #2a0a0a;--menu-bronze: #6b5a4a;--menu-bronze-hover: #8a7560;--menu-leather: #3a2a20;--menu-leather-hover: #4a3a30;--menu-text: #c4b8a8;--menu-text-muted: #8a7a6a;--menu-glow: rgba(255, 180, 100, .15);--menu-candle: rgba(255, 180, 100, .08)}.font-title{font-family:IM Fell English,serif}.font-buttons{font-family:Cinzel,serif}@keyframes pen-stroke{0%{clip-path:inset(0 100% 0 0);opacity:.3}to{clip-path:inset(0 0 0 0);opacity:1}}@keyframes ink-settle{0%{filter:blur(1px);opacity:.8}to{filter:blur(0);opacity:1}}.animate-pen-stroke{animation:pen-stroke 2.5s ease-out forwards,ink-settle .5s ease-out 2.5s forwards}.btn-mute{position:absolute;bottom:1rem;left:1rem;width:40px;height:40px;background:#1e140fcc;border:1px solid var(--menu-bronze);border-radius:50%;color:var(--menu-text-muted);font-size:1.2rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.btn-mute:hover{background:#322319e6;color:var(--menu-text);border-color:var(--menu-bronze-hover)}@keyframes float-particle{0%,to{transform:translateY(0) translate(0);opacity:0}10%{opacity:.6}90%{opacity:.6}50%{transform:translateY(-100px) translate(20px)}}.particle{position:absolute;width:3px;height:3px;background:radial-gradient(circle,rgba(255,200,120,.9) 0%,rgba(255,160,80,.4) 40%,transparent 70%);border-radius:50%;pointer-events:none;animation:float-particle var(--duration, 8s) ease-in-out infinite;animation-delay:var(--delay, 0s);box-shadow:0 0 4px #ffb46480}.btn-medieval{position:relative;padding:1rem 2.5rem;background:linear-gradient(180deg,var(--menu-leather) 0%,#2a1a10 100%);border:2px solid var(--menu-bronze);border-radius:2px;color:var(--menu-text);font-family:Cinzel,serif;font-size:1rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;cursor:pointer;transition:all .3s ease;box-shadow:inset 0 1px #ffffff0d,inset 0 -2px 4px #00000080,0 2px 8px #00000080}.btn-medieval:before,.btn-medieval:after{content:"";position:absolute;width:6px;height:6px;background:radial-gradient(circle at 30% 30%,#8a7560,#4a3a2a);border-radius:50%;box-shadow:0 1px 2px #00000080}.btn-medieval:before{top:6px;left:6px}.btn-medieval:after{top:6px;right:6px}.btn-medieval:hover{background:linear-gradient(180deg,var(--menu-leather-hover) 0%,#3a2a20 100%);border-color:var(--menu-bronze-hover);transform:translateY(-2px);box-shadow:inset 0 1px #ffffff14,inset 0 -2px 4px #00000080,0 4px 12px #0009,0 0 20px var(--menu-glow)}.btn-medieval:active{transform:translateY(1px);box-shadow:inset 0 2px 4px #00000080,0 1px 4px #00000080}.btn-medieval .rivet-bl,.btn-medieval .rivet-br{position:absolute;width:6px;height:6px;background:radial-gradient(circle at 30% 30%,#8a7560,#4a3a2a);border-radius:50%;box-shadow:0 1px 2px #00000080;bottom:6px}.btn-medieval .rivet-bl{left:6px}.btn-medieval .rivet-br{right:6px}.scrollbar-hide::-webkit-scrollbar{display:none}.scrollbar-hide{-ms-overflow-style:none;scrollbar-width:none}@keyframes pulse-warning{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@keyframes pulse-critical{0%,to{opacity:1;transform:scale(1);box-shadow:0 0 #ef4444b3}50%{opacity:1;transform:scale(1.15);box-shadow:0 0 8px 2px #ef444466}}.animate-pulse-warning{animation:pulse-warning 2s ease-in-out infinite}.animate-pulse-critical{animation:pulse-critical 1s ease-in-out infinite}.custom-scrollbar::-webkit-scrollbar{width:6px}.custom-scrollbar::-webkit-scrollbar-track{background:#1c1917}.custom-scrollbar::-webkit-scrollbar-thumb{background:#44403c;border-radius:3px}.custom-scrollbar::-webkit-scrollbar-thumb:hover{background:#57534e}.territorial-menu-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000eb;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem}.territorial-menu{width:100%;height:100%;max-width:1920px;max-height:1080px;background:radial-gradient(ellipse at center,transparent 0%,rgba(0,0,0,.4) 100%),repeating-linear-gradient(0deg,transparent,transparent 80px,rgba(60,50,40,.15) 80px,rgba(60,50,40,.15) 82px),repeating-linear-gradient(90deg,transparent,transparent 120px,rgba(60,50,40,.1) 120px,rgba(60,50,40,.1) 122px),linear-gradient(to bottom,#2a2520,#1f1b18,#181412);border:8px solid #3d3530;outline:3px solid #5a4d42;outline-offset:-11px;box-shadow:0 0 80px #000000e6,inset 0 0 60px #00000080,inset 0 2px #ffffff0d;position:relative;display:flex;flex-direction:column;overflow:hidden}.territorial-menu:before{content:"";position:absolute;top:4px;right:4px;bottom:4px;left:4px;border:1px solid rgba(120,100,80,.15);border-radius:2px;pointer-events:none;z-index:1}.territorial-menu:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:20;box-shadow:inset 6px 6px #5a4d4266,inset -6px 6px #5a4d4266,inset 6px -6px #5a4d4266,inset -6px -6px #5a4d4266}.close-btn{position:absolute;top:8px;right:8px;width:40px;height:40px;background:linear-gradient(145deg,#78716c,#57534e);border:2px solid #44403c;border-radius:4px;color:#d6d3d1;font-size:18px;cursor:pointer;z-index:20;box-shadow:2px 2px 4px #0006,inset 1px 1px 2px #ffffff1a;transition:all .2s}.close-btn:hover{background:linear-gradient(145deg,#a8a29e,#78716c);color:#fafaf9;transform:scale(1.05)}.territorial-topbar{display:flex;justify-content:space-between;align-items:flex-start;padding:20px 60px;border-bottom:2px solid #44403c;background:linear-gradient(to bottom,rgba(41,37,36,.8),transparent);gap:20px}.topbar-territory-selector{min-width:180px;max-width:220px;max-height:80px;background:#1c1917cc;border:1px solid #44403c;border-radius:4px;overflow:hidden}.territory-list{max-height:80px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#57534e #1c1917}.territory-list::-webkit-scrollbar{width:6px}.territory-list::-webkit-scrollbar-track{background:#1c1917}.territory-list::-webkit-scrollbar-thumb{background:#57534e;border-radius:3px}.territory-list::-webkit-scrollbar-thumb:hover{background:#78716c}.territory-item{display:flex;align-items:center;gap:6px;padding:4px 10px;cursor:pointer;transition:background .15s;font-size:.8rem;color:#a8a29e;border-bottom:1px solid rgba(68,64,60,.3)}.territory-item:last-child{border-bottom:none}.territory-item:hover{background:#44403c80}.territory-item.active{background:#fbbf2426;color:#fbbf24;font-weight:600}.territory-item.city .territory-icon,.territory-item.rural .territory-icon{font-size:.75rem}.territory-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.topbar-left{display:flex;flex-direction:column;gap:4px}.treasury-line{display:flex;align-items:center;gap:6px}.label-gold{color:#fbbf24;font-weight:600}.coin-icon{font-size:16px}.value-white{color:#fafaf9;font-weight:700;font-family:Courier New,monospace}.revenue-line{font-size:.9rem;display:flex;gap:6px;cursor:help}.value-gold{color:#fbbf24;font-weight:600}.topbar-center{text-align:center;flex:1}.location-name{font-size:2.4rem;font-family:"Goudy Bookletter 1911",Georgia,serif;color:#f0ebe3;text-shadow:2px 2px 4px rgba(0,0,0,.8),0 0 30px rgba(255,220,150,.2);margin:0 0 8px;letter-spacing:2px}.stability-line{display:flex;align-items:center;justify-content:center;gap:10px;font-size:.9rem;color:#a8a29e;cursor:help}.stability-bar-container{width:120px;height:8px;background:#1c1917;border-radius:4px;overflow:hidden;border:1px solid #44403c}.stability-bar{height:100%;transition:width .3s ease}.stability-bar.normal{background:linear-gradient(to right,#3b82f6,#60a5fa)}.stability-bar.low{background:linear-gradient(to right,#dc2626,#ef4444)}.stability-value{color:#d6d3d1;font-family:monospace;min-width:40px}.topbar-right{display:flex;flex-direction:column;align-items:flex-end;gap:4px}.population-line,.resentment-line,.leaders-line{font-size:.9rem;color:#a8a29e}.population-line .value{color:#fafaf9;font-weight:600}.resentment-line .placeholder{color:#57534e;font-style:italic}.leaders-line{display:flex;align-items:center;gap:8px;flex-wrap:wrap;max-width:300px}.leader-badges{display:flex;flex-wrap:wrap;gap:4px}.leader-badge{background:#7c3aed;color:#fafaf9;padding:2px 8px;border-radius:4px;font-size:.8rem;cursor:help}.columns-container{display:flex;flex:1;overflow:hidden}.column{flex:1;padding:20px;overflow-y:auto;border-right:1px solid #44403c}.column:last-child{border-right:none}.column.empty{background:#0003}.column-subtitle{font-size:.85rem;color:#78716c;font-style:italic;margin-bottom:16px;line-height:1.4}.stats-table{background:#29252499;border-radius:6px;padding:12px;margin-bottom:16px;font-size:.9rem}.table-section-title{color:#78716c;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:8px 0 4px}.table-section-title:first-child{margin-top:0}.table-row{display:flex;justify-content:space-between;padding:4px 0;color:#a8a29e}.table-row[title]{cursor:help}.table-row .value{font-family:monospace}.table-row .value.positive{color:#4ade80}.table-row .value.negative,.table-row.army-consumption,.table-row.army-consumption .text-negative{color:#f87171}.table-row.manager-bonus{color:#fbbf24}.table-row.special-income{color:#60a5fa}.table-row.total{border-top:1px solid #44403c;margin-top:8px;padding-top:8px;font-weight:700}.table-row.total.positive span{color:#22c55e}.table-row.total.negative span{color:#ef4444}.total-value{font-size:1.1rem}.total-value.positive{color:#22c55e!important}.total-value.negative{color:#ef4444!important}.slider-section{background:#29252499;border-radius:6px;padding:12px;margin-bottom:16px}.slider-section h3{color:#78716c;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:0 0 8px}.slider-controls{display:flex;justify-content:space-between;align-items:center}.slider-btn{width:36px;height:36px;background:#44403c;border:1px solid #57534e;border-radius:4px;color:#d6d3d1;font-size:1.2rem;cursor:pointer;transition:all .2s}.slider-btn:hover:not(:disabled){background:#57534e;color:#fafaf9}.slider-btn:disabled{background:#1c1917;border-color:#292524;color:#57534e;cursor:not-allowed}.slider-value{font-weight:700;color:#d6d3d1;font-size:.9rem}.slider-legend{font-size:.75rem;color:#78716c;font-style:italic;margin-top:8px;line-height:1.4}.grain-trade-section{background:#78350f33;border:1px solid rgba(217,119,6,.3);border-radius:6px;padding:12px;margin-bottom:16px}.grain-trade-section h3{color:#f59e0b;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:0 0 8px}.grain-toggle{width:100%;padding:10px;border-radius:4px;font-weight:700;cursor:pointer;transition:all .2s;border:none}.grain-toggle.active{background:#166534;color:#bbf7d0}.grain-toggle.active:hover{background:#15803d}.grain-toggle.embargoed{background:#7f1d1d;color:#fecaca}.grain-toggle.embargoed:hover{background:#991b1b}.stocks-display{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#292524cc;border-radius:6px;margin-bottom:16px;font-weight:700}.stocks-value{font-size:1.4rem;font-family:monospace}.stocks-display.healthy .stocks-value{color:#22c55e}.stocks-display.warning .stocks-value{color:#fafaf9}.stocks-display.danger .stocks-value{color:#f97316}.stocks-display.critical .stocks-value{color:#ef4444}.convoy-section{background:#29252499;border-radius:6px;padding:12px;margin-bottom:16px}.convoy-section.naval{background:#1e3a8a33;border:1px solid rgba(59,130,246,.3)}.convoy-section h3{color:#78716c;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:0 0 8px}.convoy-section.naval h3{color:#60a5fa}.convoy-limit-warning{color:#f97316;font-size:.85rem;padding:8px;background:#f973161a;border-radius:4px}.convoy-select,.convoy-input{width:100%;background:#1c1917;color:#d6d3d1;border:1px solid #44403c;border-radius:4px;padding:8px;margin-bottom:8px;font-size:.9rem}.convoy-select:disabled,.convoy-input:disabled{opacity:.5;cursor:not-allowed}.convoy-btn{width:100%;padding:10px;background:#166534;color:#bbf7d0;border:none;border-radius:4px;font-weight:700;cursor:pointer;transition:all .2s}.convoy-btn:hover:not(:disabled){background:#15803d}.convoy-btn:disabled{background:#374151;color:#6b7280;cursor:not-allowed}.convoy-btn.naval{background:#1e40af;color:#dbeafe}.convoy-btn.naval:hover:not(:disabled){background:#1d4ed8}.convoy-feedback{text-align:center;color:#4ade80;font-size:.8rem;font-weight:700;margin-top:8px;animation:pulse 1s infinite}.convoy-feedback.naval{color:#60a5fa}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}.active-convoys{margin-top:12px;padding-top:12px;border-top:1px solid #44403c}.active-title{font-size:.75rem;color:#78716c;margin-bottom:4px}.active-convoy-row{display:flex;justify-content:space-between;font-size:.8rem;color:#60a5fa}.linked-city-info{background:#37415166;border-radius:6px;padding:12px;margin-bottom:16px}.linked-row{display:flex;justify-content:space-between;font-size:.9rem;color:#a8a29e;padding:2px 0}.linked-row .value.negative{color:#f87171}.fortification-section{background:#29252499;border:1px solid #44403c;border-radius:6px;padding:16px;margin-bottom:16px}.fortification-section h3{color:#78716c;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:0 0 12px}.fort-level{font-size:1.2rem;font-weight:700;color:#d6d3d1;margin-bottom:4px}.fort-legend{font-size:.9rem;color:#a8a29e;font-style:italic;margin-bottom:12px}.fort-bonus{color:#d6d3d1;font-family:monospace}.fort-bonus .bonus-value{color:#60a5fa}.construction-active{display:flex;flex-direction:column;align-items:center;padding:16px;background:#eab3081a;border:1px solid rgba(234,179,8,.3);border-radius:6px;margin-bottom:16px}.construction-label{color:#eab308;font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}.construction-details{color:#d6d3d1;font-size:.9rem}.upgrade-section{margin-bottom:16px}.upgrade-btn{width:100%;padding:16px;border-radius:6px;border:1px solid;display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:all .2s}.upgrade-btn.max-level{background:#1c1917;border-color:#292524;color:#57534e;cursor:not-allowed}.upgrade-btn.no-resources{background:#1c1917;border-color:#292524;color:#78716c;cursor:not-allowed}.upgrade-btn.available{background:#44403c;border-color:#57534e;color:#d6d3d1;box-shadow:2px 2px 4px #0000004d}.upgrade-btn.available:hover{background:#57534e;color:#fafaf9}.upgrade-title{font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}.upgrade-details{font-size:.85rem;color:#a8a29e;margin-bottom:4px}.upgrade-cost{font-size:.8rem;font-family:monospace;color:#fbbf24}.garrison-section{background:#29252499;border-radius:6px;padding:16px}.garrison-section h3{color:#78716c;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;margin:0 0 8px}.garrison-legend{font-size:.85rem;color:#78716c;font-style:italic;margin-bottom:12px}.garrison-total{display:flex;justify-content:space-between;padding:8px 12px;background:#0000004d;border-radius:4px}.garrison-total.effective{border-left:3px solid #22c55e}.garrison-total.ineffective{border-left:3px solid #f97316}.garrison-label{color:#a8a29e}.garrison-value{font-size:1.4rem;font-weight:700;color:#e8e4dc}.garrison-warning{margin-top:8px;color:#f97316;font-size:.85rem}.garrison-total.faction-nobles{border-left:4px solid #dc2626}.garrison-total.faction-conspirators{border-left:4px solid #d97706}.garrison-total.faction-republicans{border-left:4px solid #3b82f6}.garrison-total.faction-neutral{border-left:4px solid #6b7280}.stability-bar.stability-high{background:linear-gradient(to right,#3b82f6,#60a5fa)}.stability-value.stability-high{color:#60a5fa}.stability-bar.stability-medium{background:linear-gradient(to right,#eab308,#facc15)}.stability-value.stability-medium{color:#facc15}.stability-bar.stability-low{background:linear-gradient(to right,#ea580c,#f97316)}.stability-value.stability-low{color:#f97316}.stability-bar.stability-critical{background:linear-gradient(to right,#dc2626,#ef4444)}.stability-value.stability-critical{color:#ef4444}.revenue-table .value.gold-value{color:#d4a54a}.revenue-table .value.zero-value{color:#78716c}.revenue-total .total-label{color:#fbbf24;font-weight:700}.revenue-total .gold-total{color:#fbbf24;font-size:1.1rem;font-weight:700}.column-title{font-size:1.4rem;font-family:Georgia,serif;color:#d6d3d1;margin:0 0 12px;padding-bottom:8px;border-bottom:1px solid #44403c;text-align:center}.embargo-row .embargo-label{color:#ef4444}.leader-badge-wrapper{position:relative;display:inline-block}.leader-badge{background:#7c3aed;color:#fafaf9;padding:2px 8px;border-radius:4px;font-size:.8rem;cursor:pointer;transition:all .2s}.leader-badge:hover{background:#8b5cf6}.leader-tooltip{display:none;position:absolute;top:100%;left:50%;transform:translate(-50%);min-width:180px;background:linear-gradient(145deg,#292524,#1c1917);border:2px solid #78716c;border-radius:8px;padding:12px;margin-top:8px;z-index:100;box-shadow:0 4px 20px #0009,inset 0 1px #ffffff1a}.leader-badge-wrapper:hover .leader-tooltip{display:block}.leader-tooltip:after{content:"";position:absolute;bottom:100%;left:50%;transform:translate(-50%);border:8px solid transparent;border-bottom-color:#78716c}.leader-tooltip .tooltip-line{font-size:.85rem;color:#d6d3d1;padding:3px 0}.leader-tooltip .tooltip-line.positive{color:#4ade80}.leader-tooltip .tooltip-line.negative{color:#f87171}.leader-tooltip .tooltip-line.ability{color:#a78bfa;font-weight:600;border-top:1px solid #44403c;margin-top:4px;padding-top:6px}.column::-webkit-scrollbar{width:8px}.column::-webkit-scrollbar-track{background:#1c1917}.column::-webkit-scrollbar-thumb{background:#44403c;border-radius:4px}.column::-webkit-scrollbar-thumb:hover{background:#57534e}@media(max-width:1200px){.territorial-topbar{flex-direction:column;align-items:center;gap:12px}.topbar-left,.topbar-right{align-items:center}.columns-container{flex-direction:column}.column{border-right:none;border-bottom:1px solid #44403c;max-height:50vh}.column:last-child{border-bottom:none}}
